{% extends 'RMS/main.html' %}
{% load static %}
{% block content %}



<div class="container">
    <div class="header">
        <h1>Table Management</h1>
    </div>
    <div class="content-wrapper">
        <div class="left-section">
            <div>
                <h2>Filter Tables:</h2>
                <form action="{% url 'tables' %}" method="get">
                    <input type="number" name="capacity" placeholder="Enter capacity" value="{{ capacity }}">
                    <br>
                    <label for="property">Select Properties:</label><br>
                    <input type="checkbox" id="property1" name="property" value="1" {% if '1' in selected_properties %}checked{% endif %}>
                    <label for="property1">Near Window</label><br>
                    <input type="checkbox" id="property2" name="property" value="2" {% if '2' in selected_properties %}checked{% endif %}>
                    <label for="property2">Near Kitchen</label><br>
                    <input type="checkbox" id="property3" name="property" value="3" {% if '3' in selected_properties %}checked{% endif %}>
                    <label for="property3">In Garden</label><br>
                    <input type="checkbox" id="property4" name="property" value="4" {% if '4' in selected_properties %}checked{% endif %}>
                    <label for="property4">In Bar</label><br>
                    <input type="checkbox" id="property5" name="property" value="5" {% if '5' in selected_properties %}checked{% endif %}>
                    <label for="property5">Isolated</label><br>
                    <button type="submit" class="btn-primary">Filter</button>
                </form>
            </div>
        </div>
        <div class="right-section">
            <div>
                <a href="{% url 'table-form' %}">
                    <button class="btn-primary">Add New Table</button>
                </a>
                <h4>{{ filtered_tables|length }} tables displayed</h4>
            </div>
            <div class="table-list">
                {% for table in filtered_tables %}
                    <div class="table">
                        {% if table.capacity <= 6 %}
                            <img src="{% static 'RMS/images/table_' %}{{ table.capacity }}_chairs.png" alt="Table Image">
                        {% else %}
                            <img src="{% static 'RMS/images/table_many_chairs.png' %}" alt="Table Image">
                        {% endif %}
                        <div class="table-info">
                            <h3>Capacity: {{ table.capacity }}</h3>
                            {% for property in table.properties %}
                                {% if property.property == 1 %}
                                    <p><i class="fa fa-window-maximize property-icon"></i> Near Window</p>
                                {% elif property.property == 2 %}
                                    <p><i class="fa fa-cutlery property-icon"></i> Near Kitchen</p>
                                {% elif property.property == 3 %}
                                    <p><i class="fa fa-tree property-icon"></i> In Garden</p>
                                {% elif property.property == 4 %}
                                    <p><i class="fa fa-glass property-icon"></i> In Bar</p>
                                {% elif property.property == 5 %}
                                    <p><i class="fa fa-shield property-icon"></i> Isolated</p>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                {% endfor %}

            </div>
        </div>
    </div>
<link rel="stylesheet" href="{% static 'RMS/css/table_booking_css.css' %}">
</div>

{% endblock content %}


